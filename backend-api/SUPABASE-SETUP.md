# üéâ SUPABASE SETUP - –ì–û–¢–û–í–û!

## ‚úÖ –ß–¢–û –£–ñ–ï –ù–ê–°–¢–†–û–ï–ù–û:

### üóÑÔ∏è **Backend:**
- ‚úÖ Supabase SDK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- ‚úÖ API —Ä–æ—É—Ç—ã —Å–æ–∑–¥–∞–Ω—ã  
- ‚úÖ –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É

### ‚öõÔ∏è **Frontend:**
- ‚úÖ Supabase SDK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ AuthContext –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ API —Å–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã

---

## üöÄ **–ë–´–°–¢–†–´–ô –°–¢–ê–†–¢:**

### **1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase SQL Editor](https://supabase.com/dashboard/projects)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `supabase-setup.sql`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ SQL –∫–æ–¥
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `users` —Å–æ–∑–¥–∞–Ω–∞

### **2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend:**
```bash
npm run dev:supabase
```

### **3. –°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
curl -X POST http://localhost:3001/api/auth/create-admin
```

### **4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend:**
```bash
cd ../
npm run dev
```

---

## üîß **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:**

### **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
```bash
npm run supabase:test
# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ:
curl http://localhost:3001/api/health/supabase
```

### **–¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
```bash
curl -X POST http://localhost:3001/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "firstName": "Test",
    "lastName": "User", 
    "email": "test@example.com",
    "password": "password123"
  }'
```

### **–¢–µ—Å—Ç –ª–æ–≥–∏–Ω–∞:**
```bash
curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@ositos.com",
    "password": "admin123"
  }'
```

---

## üìä **PRODUCTION DEPLOYMENT:**

### **Environment Variables:**
```bash
SUPABASE_URL=https://rqqqkquovwvsegaluxwe.supabase.co
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

### **Build –∏ Deploy:**
```bash
npm run build
npm run start:supabase
```

---

## üîÑ **–ú–ò–ì–†–ê–¶–ò–Ø –° –°–¢–ê–†–û–ô –°–ò–°–¢–ï–ú–´:**

Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–∏—Ç —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –û—á–∏—Å—Ç–∏—Ç –∏—Ö
- ‚úÖ –ü–æ–∫–∞–∂–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è

---

## üÜò **TROUBLESHOOTING:**

### **‚ùå Supabase connection failed:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ credentials –≤ `src/config/supabase.ts`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏–ª–∏ SQL setup
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Supabase

### **‚ùå Authentication errors:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `users` —Å–æ–∑–¥–∞–Ω–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS policies
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ triggers —Ä–∞–±–æ—Ç–∞—é—Ç

### **‚ùå Frontend –æ—à–∏–±–∫–∏:**
1. –û—á–∏—Å—Ç–∏—Ç–µ localStorage
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ console –Ω–∞ –æ—à–∏–±–∫–∏ CORS

---

## üéØ **WHAT'S NEXT:**

1. ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞!**
2. üé® **–ú–æ–∂–µ—Ç–µ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å UI**
3. üì± **–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏**
4. üöÄ **–î–µ–ø–ª–æ–∏—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–Ω**

---

**üéâ –ü–û–ó–î–†–ê–í–õ–Ø–Æ! –£ –≤–∞—Å —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å Supabase!**
